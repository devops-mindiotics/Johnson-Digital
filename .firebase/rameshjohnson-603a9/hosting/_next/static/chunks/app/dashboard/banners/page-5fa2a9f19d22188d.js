(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6953],{17759:(e,t,a)=>{"use strict";a.d(t,{C5:()=>g,MJ:()=>p,eI:()=>f,lR:()=>x,lV:()=>o,zB:()=>m});var s=a(95155),l=a(12115),r=a(66634),n=a(62177),i=a(59434),d=a(85057);let o=n.Op,c=l.createContext({}),m=e=>{let{...t}=e;return(0,s.jsx)(c.Provider,{value:{name:t.name},children:(0,s.jsx)(n.xI,{...t})})},u=()=>{let e=l.useContext(c),t=l.useContext(h),{getFieldState:a,formState:s}=(0,n.xW)(),r=a(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=t;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...r}},h=l.createContext({}),f=l.forwardRef((e,t)=>{let{className:a,...r}=e,n=l.useId();return(0,s.jsx)(h.Provider,{value:{id:n},children:(0,s.jsx)("div",{ref:t,className:(0,i.cn)("space-y-2",a),...r})})});f.displayName="FormItem";let x=l.forwardRef((e,t)=>{let{className:a,...l}=e,{error:r,formItemId:n}=u();return(0,s.jsx)(d.Label,{ref:t,className:(0,i.cn)(r&&"text-destructive",a),htmlFor:n,...l})});x.displayName="FormLabel";let p=l.forwardRef((e,t)=>{let{...a}=e,{error:l,formItemId:n,formDescriptionId:i,formMessageId:d}=u();return(0,s.jsx)(r.DX,{ref:t,id:n,"aria-describedby":l?"".concat(i," ").concat(d):"".concat(i),"aria-invalid":!!l,...a})});p.displayName="FormControl",l.forwardRef((e,t)=>{let{className:a,...l}=e,{formDescriptionId:r}=u();return(0,s.jsx)("p",{ref:t,id:r,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})}).displayName="FormDescription";let g=l.forwardRef((e,t)=>{var a;let{className:l,children:r,...n}=e,{error:d,formMessageId:o}=u(),c=d?String(null!=(a=null==d?void 0:d.message)?a:""):r;return c?(0,s.jsx)("p",{ref:t,id:o,className:(0,i.cn)("text-sm font-medium text-destructive",l),...n,children:c}):null});g.displayName="FormMessage"},30285:(e,t,a)=>{"use strict";a.d(t,{$:()=>o,r:()=>d});var s=a(95155),l=a(12115),r=a(66634),n=a(74466),i=a(59434);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=l.forwardRef((e,t)=>{let{className:a,variant:l,size:n,asChild:o=!1,...c}=e,m=o?r.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(d({variant:l,size:n,className:a})),ref:t,...c})});o.displayName="Button"},44838:(e,t,a)=>{"use strict";a.d(t,{I:()=>u,SQ:()=>h,_2:()=>f,hO:()=>x,lp:()=>p,mB:()=>g,rI:()=>c,ty:()=>m});var s=a(95155),l=a(12115),r=a(76215),n=a(73158),i=a(10518),d=a(70154),o=a(59434);let c=r.bL,m=r.l9,u=r.YJ;r.ZL,r.Pb,r.z6,l.forwardRef((e,t)=>{let{className:a,inset:l,children:i,...d}=e;return(0,s.jsxs)(r.ZP,{ref:t,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...d,children:[i,(0,s.jsx)(n.A,{className:"ml-auto"})]})}).displayName=r.ZP.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.G5,{ref:t,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...l})}).displayName=r.G5.displayName;let h=l.forwardRef((e,t)=>{let{className:a,sideOffset:l=4,...n}=e;return(0,s.jsx)(r.ZL,{children:(0,s.jsx)(r.UC,{ref:t,sideOffset:l,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",a),...n})})});h.displayName=r.UC.displayName;let f=l.forwardRef((e,t)=>{let{className:a,inset:l,...n}=e;return(0,s.jsx)(r.q7,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",l&&"pl-8",a),...n})});f.displayName=r.q7.displayName;let x=l.forwardRef((e,t)=>{let{className:a,children:l,checked:n,...d}=e;return(0,s.jsxs)(r.H_,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),checked:n,...d,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),l]})});x.displayName=r.H_.displayName,l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(r.hN,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(d.A,{className:"h-2 w-2 fill-current"})})}),l]})}).displayName=r.hN.displayName;let p=l.forwardRef((e,t)=>{let{className:a,inset:l,...n}=e;return(0,s.jsx)(r.JU,{ref:t,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",l&&"pl-8",a),...n})});p.displayName=r.JU.displayName;let g=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...l})});g.displayName=r.wv.displayName},54165:(e,t,a)=>{"use strict";a.d(t,{Cf:()=>u,Es:()=>f,L3:()=>x,c7:()=>h,lG:()=>d,rr:()=>p,zM:()=>o});var s=a(95155),l=a(12115),r=a(4033),n=a(25318),i=a(59434);let d=r.bL,o=r.l9,c=r.ZL;r.bm;let m=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.hJ,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});m.displayName=r.hJ.displayName;let u=l.forwardRef((e,t)=>{let{className:a,children:l,...d}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsxs)(r.UC,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[l,(0,s.jsxs)(r.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});u.displayName=r.UC.displayName;let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};h.displayName="DialogHeader";let f=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};f.displayName="DialogFooter";let x=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.hE,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});x.displayName=r.hE.displayName;let p=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.VY,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=r.VY.displayName},59409:(e,t,a)=>{"use strict";a.d(t,{bq:()=>f,eb:()=>j,gC:()=>g,l6:()=>m,yv:()=>h});var s=a(95155),l=a(12115),r=a(11031),n=a(79556),i=a(77381),d=a(10518),o=a(59434),c=a(62523);let m=r.bL,u=r.YJ,h=r.WT,f=l.forwardRef((e,t)=>{let{className:a,children:l,...i}=e;return(0,s.jsxs)(r.l9,{ref:t,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[l,(0,s.jsx)(r.In,{asChild:!0,children:(0,s.jsx)(n.A,{className:"h-4 w-4 opacity-50"})})]})});f.displayName=r.l9.displayName;let x=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.PP,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});x.displayName=r.PP.displayName;let p=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.wn,{ref:t,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,s.jsx)(n.A,{className:"h-4 w-4"})})});p.displayName=r.wn.displayName;let g=l.forwardRef((e,t)=>{let{className:a,children:n,position:i="popper",...d}=e,[m,h]=l.useState(""),f=e=>l.Children.toArray(e).map(e=>{if(!l.isValidElement(e))return null;if(e.type===u){let t=f(e.props.children);return l.Children.count(t)>0?l.cloneElement(e,{},t):null}return e.type===j?g(e.props.children).toLowerCase().includes(m.toLowerCase())?e:null:e}).filter(Boolean),g=e=>{let t="";return l.Children.forEach(e,e=>{"string"==typeof e?t+=e:l.isValidElement(e)&&"children"in e.props&&(t+=g(e.props.children))}),t};return(0,s.jsx)(r.ZL,{children:(0,s.jsxs)(r.UC,{ref:t,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...d,children:[(0,s.jsx)("div",{className:"p-2",children:(0,s.jsx)(c.p,{placeholder:"Search...",value:m,onChange:e=>h(e.target.value),className:"w-full"})}),(0,s.jsx)(x,{}),(0,s.jsx)(r.LM,{className:(0,o.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:f(n)}),(0,s.jsx)(p,{})]})})});g.displayName=r.UC.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.JU,{ref:t,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=r.JU.displayName;let j=l.forwardRef((e,t)=>{let{className:a,children:l,...n}=e;return(0,s.jsxs)(r.q7,{ref:t,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(r.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(r.p4,{children:l})]})});j.displayName=r.q7.displayName,l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.wv,{ref:t,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.wv.displayName},59434:(e,t,a)=>{"use strict";a.d(t,{cn:()=>r});var s=a(52596),l=a(39688);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.QP)((0,s.$)(t))}},62523:(e,t,a)=>{"use strict";a.d(t,{p:()=>n});var s=a(95155),l=a(12115),r=a(59434);let n=l.forwardRef((e,t)=>{let{className:a,type:l,...n}=e;return(0,s.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...n})});n.displayName="Input"},72864:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>R});var s=a(95155),l=a(12115),r=a(36268),n=a(11032),i=a(17607),d=a(77223),o=a(30285),c=a(62523),m=a(90221),u=a(62177),h=a(55594),f=a(54165),x=a(17759),p=a(75943),g=a(79311),j=a(18046);let v=JSON.parse('[{"id":"1","name":"Greenwood High"},{"id":"2","name":"Oakridge International"},{"id":"3","name":"Global Edge School"}]');var N=a(59409),b=a(44838);let y=h.z.object({name:h.z.string().min(1,{message:"Name is required"}),targetAudience:h.z.string().min(1,{message:"Target audience is required"}),school:h.z.union([h.z.string(),h.z.array(h.z.string())]).optional(),startDate:h.z.string().min(1,{message:"Start date is required"}),endDate:h.z.string().min(1,{message:"End date is required"}),media:h.z.any().optional()}).refine(e=>"School Admins"!==e.targetAudience||Array.isArray(e.school)&&e.school.length>0,{message:"Please select at least one school.",path:["school"]});function w(e){let{banner:t,onSave:a}=e,[r,n]=l.useState(!1),[i,d]=l.useState(null),h=(0,u.mN)({resolver:(0,m.u)(y),defaultValues:t?{...t,school:t.school?t.school.split(", "):[],media:void 0}:{name:"",targetAudience:"All",school:[],startDate:"",endDate:"",media:void 0}}),w=h.watch("targetAudience");return l.useEffect(()=>{r&&(t?(h.reset({...t,school:t.school?t.school.split(", "):[],media:void 0}),d(t.media)):(h.reset({name:"",targetAudience:"All",school:[],startDate:"",endDate:"",media:void 0}),d(null)))},[t,h,r]),l.useEffect(()=>()=>{i&&i.startsWith("blob:")&&URL.revokeObjectURL(i)},[i]),(0,s.jsxs)(f.lG,{open:r,onOpenChange:n,children:[(0,s.jsx)(f.zM,{asChild:!0,children:t?(0,s.jsx)(o.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(p.A,{className:"h-4 w-4"})}):(0,s.jsxs)(o.$,{children:[(0,s.jsxs)("span",{className:"relative h-5 w-5 sm:mr-2",children:[(0,s.jsx)(g.A,{className:"h-full w-full"}),(0,s.jsx)("span",{className:"absolute -top-1.5 -right-1.5 flex h-4 w-4 items-center justify-center rounded-full bg-primary",children:(0,s.jsx)(j.A,{className:"h-3 w-3 text-primary-foreground"})})]}),(0,s.jsx)("span",{className:"hidden sm:inline",children:"Add Banner"})]})}),(0,s.jsxs)(f.Cf,{className:"sm:max-w-[600px]",children:[(0,s.jsxs)(f.c7,{children:[(0,s.jsx)(f.L3,{children:t?"Edit Banner":"Add New Banner"}),(0,s.jsx)(f.rr,{children:t?"Update the details of your banner.":"Fill in the details to create a new banner."})]}),i&&(0,s.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden my-4",children:(0,s.jsx)("img",{src:i,alt:"Banner preview",className:"h-full w-full object-cover"})}),(0,s.jsx)(x.lV,{...h,children:(0,s.jsxs)("form",{onSubmit:h.handleSubmit(e=>{var s;let l="School Admins"===e.targetAudience&&Array.isArray(e.school)?e.school.join(", "):"",r=(null==(s=e.media)?void 0:s[0])?URL.createObjectURL(e.media[0]):null==t?void 0:t.media;a({...e,school:l,media:r}),n(!1)}),className:"space-y-4",children:[(0,s.jsx)(x.zB,{control:h.control,name:"name",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Name"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(c.p,{placeholder:"e.g. Summer Camp Enrollment",...t})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:h.control,name:"targetAudience",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Target Audience"}),(0,s.jsxs)(N.l6,{onValueChange:e=>{t.onChange(e),"School Admins"!==e&&h.setValue("school",[])},defaultValue:t.value,children:[(0,s.jsx)(x.MJ,{children:(0,s.jsx)(N.bq,{children:(0,s.jsx)(N.yv,{placeholder:"Select a target audience"})})}),(0,s.jsxs)(N.gC,{children:[(0,s.jsx)(N.eb,{value:"All",children:"All"}),(0,s.jsx)(N.eb,{value:"School Admins",children:"School Admins"}),(0,s.jsx)(N.eb,{value:"Teachers",children:"Teachers"}),(0,s.jsx)(N.eb,{value:"Students",children:"Students"})]})]}),(0,s.jsx)(x.C5,{})]})}}),"School Admins"===w&&(0,s.jsx)(x.zB,{control:h.control,name:"school",render:e=>{var t,a;let{field:l}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"School"}),(0,s.jsxs)(b.rI,{children:[(0,s.jsx)(b.ty,{asChild:!0,children:(0,s.jsx)(o.$,{variant:"outline",className:"w-full justify-start font-normal",children:(0,s.jsxs)("span",{className:"truncate",children:[(!l.value||0===l.value.length)&&"Select schools",(null==(t=l.value)?void 0:t.includes("All"))&&"All schools selected",l.value&&!l.value.includes("All")&&1===l.value.length&&l.value[0],l.value&&!l.value.includes("All")&&l.value.length>1&&"".concat(l.value.length," schools selected")]})})}),(0,s.jsxs)(b.SQ,{className:"w-[--radix-dropdown-menu-trigger-width]",children:[(0,s.jsx)(b.hO,{onCheckedChange:e=>{l.onChange(e?["All",...v.map(e=>e.name)]:[])},checked:null==(a=l.value)?void 0:a.includes("All"),children:"All"}),(0,s.jsx)(b.mB,{}),v.map(e=>{var t;return(0,s.jsx)(b.hO,{checked:null==(t=l.value)?void 0:t.includes(e.name),onCheckedChange:t=>{let a=Array.isArray(l.value)?l.value.filter(e=>"All"!==e):[],s=t?[...a,e.name]:a.filter(t=>t!==e.name);s.length===v.length?l.onChange(["All",...s]):l.onChange(s)},children:e.name},e.id)})]})]}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsx)(x.zB,{control:h.control,name:"startDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Start Date"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(c.p,{type:"date",...t})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(x.zB,{control:h.control,name:"endDate",render:e=>{let{field:t}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"End Date"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(c.p,{type:"date",...t})}),(0,s.jsx)(x.C5,{})]})}})]}),(0,s.jsx)(x.zB,{control:h.control,name:"media",render:e=>{let{field:a}=e;return(0,s.jsxs)(x.eI,{children:[(0,s.jsx)(x.lR,{children:"Upload Banner"}),(0,s.jsx)(x.MJ,{children:(0,s.jsx)(c.p,{type:"file",accept:"image/*",onChange:e=>{var s;let l=null==(s=e.target.files)?void 0:s[0];a.onChange(e.target.files),l?d(URL.createObjectURL(l)):d(t?t.media:null)}})}),(0,s.jsx)(x.C5,{})]})}}),(0,s.jsx)(f.Es,{children:(0,s.jsxs)("div",{className:"flex flex-row justify-end space-x-2",children:[(0,s.jsx)(o.$,{variant:"outline",type:"button",onClick:()=>n(!1),children:"Cancel"}),(0,s.jsx)(o.$,{type:"submit",children:t?"Save Changes":"Create"})]})})]})})]})]})}function C(e){let{banner:t,children:a}=e;return(0,s.jsxs)(f.lG,{children:[(0,s.jsx)(f.zM,{asChild:!0,children:a}),(0,s.jsxs)(f.Cf,{className:"sm:max-w-[600px]",children:[(0,s.jsxs)(f.c7,{children:[(0,s.jsx)(f.L3,{children:t.name}),(0,s.jsx)(f.rr,{children:t.school})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("div",{className:"relative h-60 w-full rounded-md overflow-hidden",children:(0,s.jsx)("img",{src:t.media,alt:t.name,className:"h-full w-full object-cover"})}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Target Audience:"})," ",t.targetAudience]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"Start Date:"})," ",t.startDate]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("strong",{children:"End Date:"})," ",t.endDate]})]})]})]})]})}let A=()=>"superAdmin";function S(e){var t,a,m,u;let{data:h,updateBanner:f,deleteBanner:x}=e,[p,g]=l.useState([]),[j,b]=l.useState([]),y=A(),S=[{accessorKey:"name",header:"Name"},{accessorKey:"school",header:"School"},{id:"actions",cell:e=>{let{row:t}=e;return(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(C,{banner:t.original,children:(0,s.jsx)(o.$,{variant:"ghost",size:"icon",children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(w,{banner:t.original,onSave:e=>f({...t.original,...e})}),(0,s.jsx)(o.$,{variant:"destructive",size:"icon",onClick:()=>x(t.original.id),children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})]})}}],z=(0,r.N4)({data:h,columns:S,onSortingChange:g,onColumnFiltersChange:b,getCoreRowModel:(0,n.HT)(),getPaginationRowModel:(0,n.kW)(),getSortedRowModel:(0,n.h5)(),getFilteredRowModel:(0,n.hM)(),state:{sorting:p,columnFilters:j},initialState:{pagination:{pageSize:6}}});return(0,s.jsxs)("div",{className:"w-full space-y-4",children:[(0,s.jsx)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto",children:[(0,s.jsx)(c.p,{placeholder:"Filter banners by name...",value:null!=(m=null==(t=z.getColumn("name"))?void 0:t.getFilterValue())?m:"",onChange:e=>{var t;return null==(t=z.getColumn("name"))?void 0:t.setFilterValue(e.target.value)},className:"w-full sm:w-auto flex-grow"}),"superAdmin"===y&&(0,s.jsxs)(N.l6,{value:null!=(u=null==(a=z.getColumn("school"))?void 0:a.getFilterValue())?u:"",onValueChange:e=>{var t;return null==(t=z.getColumn("school"))?void 0:t.setFilterValue("all"===e?"":e)},children:[(0,s.jsx)(N.bq,{className:"w-full sm:w-[180px]",children:(0,s.jsx)(N.yv,{placeholder:"Filter by school"})}),(0,s.jsxs)(N.gC,{children:[(0,s.jsx)(N.eb,{value:"all",children:"All Schools"}),v.map(e=>(0,s.jsx)(N.eb,{value:e.name,children:e.name},e.id))]})]})]})}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:z.getRowModel().rows.map(e=>(0,s.jsxs)("div",{className:"border rounded-lg overflow-hidden shadow-lg",children:[(0,s.jsx)("div",{className:"relative h-40 w-full",children:(0,s.jsx)("img",{src:e.original.media,alt:e.original.name,className:"h-full w-full object-cover"})}),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold truncate",children:e.original.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground truncate",children:e.original.school}),(0,s.jsx)("div",{className:"mt-4 flex justify-end",children:(0,r.Kv)(e.getVisibleCells().find(e=>"actions"===e.column.id).column.columnDef.cell,e.getVisibleCells().find(e=>"actions"===e.column.id).getContext())})]})]},e.id))}),(0,s.jsxs)("div",{className:"flex items-center justify-between space-x-2 py-4",children:[(0,s.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",z.getState().pagination.pageIndex+1," of ",z.getPageCount()]}),(0,s.jsxs)("div",{className:"space-x-2",children:[(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>z.previousPage(),disabled:!z.getCanPreviousPage(),children:"Previous"}),(0,s.jsx)(o.$,{variant:"outline",size:"sm",onClick:()=>z.nextPage(),disabled:!z.getCanNextPage(),children:"Next"})]})]})]})}var z=a(82917);let R=()=>{let[e,t]=l.useState(z);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold",children:"Banners"}),(0,s.jsx)(w,{onSave:a=>{t([{id:(e.length+1).toString(),...a,media:a.media||"https://picsum.photos/1280/720?q=".concat(Math.random())},...e])}})]}),(0,s.jsx)(S,{data:e,updateBanner:a=>{t(e.map(e=>e.id===a.id?a:e))},deleteBanner:a=>{t(e.filter(e=>e.id!==a))}})]})}},82917:e=>{"use strict";e.exports=JSON.parse('[{"id":"1","name":"Summer Camp Enrollment Open","school":"Greenwood High","targetAudience":"Students","startDate":"2024-06-01","endDate":"2024-06-30","media":"https://picsum.photos/1280/720?q=1"},{"id":"2","name":"Back to School Night","school":"Northwood Elementary","targetAudience":"All","startDate":"2024-08-15","endDate":"2024-08-15","media":"https://picsum.photos/1280/720?q=2"},{"id":"3","name":"Annual Science Fair","school":"Westwood Middle School","targetAudience":"All","startDate":"2024-10-20","endDate":"2024-10-22","media":"https://picsum.photos/1280/720?q=3"},{"id":"4","name":"Parent-Teacher Conferences","school":"Greenwood High","targetAudience":"Teachers","startDate":"2024-09-10","endDate":"2024-09-12","media":"https://picsum.photos/1280/720?q=4"},{"id":"5","name":"School Holiday Concert","school":"Northwood Elementary","targetAudience":"All","startDate":"2024-12-15","endDate":"2024-12-15","media":"https://picsum.photos/1280/720?q=5"}]')},85057:(e,t,a)=>{"use strict";a.d(t,{Label:()=>o});var s=a(95155),l=a(12115),r=a(40968),n=a(74466),i=a(59434);let d=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=l.forwardRef((e,t)=>{let{className:a,...l}=e;return(0,s.jsx)(r.b,{ref:t,className:(0,i.cn)(d(),a),...l})});o.displayName=r.b.displayName},96820:(e,t,a)=>{Promise.resolve().then(a.bind(a,72864))}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,9456,8539,1072,8636,1342,3421,7094,9092,8441,1684,7358],()=>t(96820)),_N_E=e.O()}]);