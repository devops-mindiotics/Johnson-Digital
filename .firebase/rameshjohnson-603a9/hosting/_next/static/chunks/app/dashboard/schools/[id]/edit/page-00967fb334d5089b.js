(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[804],{36978:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>b});var l=n(95155),r=n(35695),i=n(12115),o=n(90221),c=n(62177),a=n(55594),t=n(30285),d=n(17759),h=n(62523),x=n(66695),j=n(31949),u=n(59409),m=n(6874),g=n.n(m);let p=a.z.object({schoolName:a.z.string().min(1,"School Name is required"),trustSocietyName:a.z.string(),schoolBoard:a.z.enum(["State Board","CBSE","ICSE"]),schoolType:a.z.enum(["Co-Education","Girls","Boys"]),affiliationNo:a.z.string(),schoolLogo:a.z.any(),schoolWebsite:a.z.string().url().optional(),status:a.z.enum(["Active","Inactive","Pending","Trial"]).default("Pending"),expiryDate:a.z.string().min(1,"Expiry Date is required"),email:a.z.string().email(),principalName:a.z.string().min(1,"Principal Name is required"),principalMobile:a.z.string().min(1,"Principal Mobile is required"),inchargeName:a.z.string().min(1,"Incharge Name is required"),inchargeMobile:a.z.string().min(1,"Incharge Mobile is required"),address:a.z.string().min(1,"Address is required"),city:a.z.string().min(1,"City is required"),district:a.z.string().min(1,"District is required"),state:a.z.string().min(1,"State is required"),pincode:a.z.string().min(1,"Pincode is required"),isBranch:a.z.boolean().default(!1),parentSchool:a.z.string().optional(),instagram:a.z.string().url().optional(),linkedIn:a.z.string().url().optional(),johnsonSchoolId:a.z.string(),createdOn:a.z.string(),createdBy:a.z.string(),modifiedOn:a.z.string(),modifiedBy:a.z.string()});function b(e){let{initialSchool:s,schoolList:n}=e,a=(0,r.useRouter)(),m=(0,c.mN)({resolver:(0,o.u)(p),defaultValues:s});async function b(e){console.log("Updated school data:",e),a.push("/dashboard/schools")}return(0,i.useEffect)(()=>{m.reset(s)},[s,m]),(0,l.jsx)(d.lV,{...m,children:(0,l.jsxs)("form",{onSubmit:m.handleSubmit(b),className:"space-y-8",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("h1",{className:"text-2xl font-bold",children:"Edit School"}),(0,l.jsx)(g(),{href:"/dashboard/schools",children:(0,l.jsx)(t.$,{variant:"outline",children:"Back to Schools"})})]}),(0,l.jsxs)(x.Zp,{children:[(0,l.jsxs)(x.aR,{children:[(0,l.jsx)(x.ZB,{children:"School Information"}),(0,l.jsx)(x.BT,{children:"Basic details about the school."})]}),(0,l.jsx)(x.Wu,{className:"space-y-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,l.jsx)(d.zB,{control:m.control,name:"schoolName",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"School Name *"}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(h.p,{placeholder:"e.g., Greenwood High",...s})}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"trustSocietyName",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"Trust/Society Name"}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(h.p,{placeholder:"e.g., Greenwood Educational Trust",...s})}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"schoolBoard",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"School Board *"}),(0,l.jsxs)(u.l6,{onValueChange:s.onChange,value:s.value,children:[(0,l.jsx)(d.MJ,{children:(0,l.jsx)(u.bq,{children:(0,l.jsx)(u.yv,{placeholder:"Select a school board"})})}),(0,l.jsxs)(u.gC,{children:[(0,l.jsx)(u.eb,{value:"State Board",children:"State Board"}),(0,l.jsx)(u.eb,{value:"CBSE",children:"CBSE"}),(0,l.jsx)(u.eb,{value:"ICSE",children:"ICSE"})]})]}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"schoolType",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"School Type *"}),(0,l.jsxs)(u.l6,{onValueChange:s.onChange,value:s.value,children:[(0,l.jsx)(d.MJ,{children:(0,l.jsx)(u.bq,{children:(0,l.jsx)(u.yv,{placeholder:"Select a school type"})})}),(0,l.jsxs)(u.gC,{children:[(0,l.jsx)(u.eb,{value:"Co-Education",children:"Co-Education"}),(0,l.jsx)(u.eb,{value:"Girls",children:"Girls"}),(0,l.jsx)(u.eb,{value:"Boys",children:"Boys"})]})]}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"affiliationNo",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"Affiliation No./School Code"}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(h.p,{placeholder:"e.g., CBSE/AFF/12345",...s})}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"schoolLogo",render:()=>(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"School Logo"}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(h.p,{type:"file"})}),(0,l.jsx)(d.C5,{})]})}),(0,l.jsx)(d.zB,{control:m.control,name:"schoolWebsite",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"School Website"}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(h.p,{placeholder:"https://www.school.com",...s})}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"status",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"Status"}),(0,l.jsxs)(u.l6,{onValueChange:s.onChange,value:s.value,children:[(0,l.jsx)(d.MJ,{children:(0,l.jsx)(u.bq,{children:(0,l.jsx)(u.yv,{placeholder:"Select a status"})})}),(0,l.jsxs)(u.gC,{children:[(0,l.jsx)(u.eb,{value:"Active",children:"Active"}),(0,l.jsx)(u.eb,{value:"Inactive",children:"Inactive"}),(0,l.jsx)(u.eb,{value:"Pending",children:"Pending"}),(0,l.jsx)(u.eb,{value:"Trial",children:"Trial"})]})]}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"expiryDate",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"Expiry Date *"}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(h.p,{type:"date",...s})}),(0,l.jsx)(d.C5,{})]})}}),(0,l.jsx)(d.zB,{control:m.control,name:"isBranch",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[(0,l.jsx)("div",{className:"space-y-0.5",children:(0,l.jsx)(d.lR,{className:"text-base",children:"Is this a Branch of Another School? *"})}),(0,l.jsx)(d.MJ,{children:(0,l.jsx)(j.d,{checked:s.value,onCheckedChange:s.onChange})})]})}}),m.watch("isBranch")&&(0,l.jsx)(d.zB,{control:m.control,name:"parentSchool",render:e=>{let{field:s}=e;return(0,l.jsxs)(d.eI,{children:[(0,l.jsx)(d.lR,{children:"Parent School"}),(0,l.jsxs)(u.l6,{onValueChange:s.onChange,value:s.value,children:[(0,l.jsx)(d.MJ,{children:(0,l.jsx)(u.bq,{children:(0,l.jsx)(u.yv,{placeholder:"Select a parent school"})})}),(0,l.jsx)(u.gC,{children:n.map(e=>(0,l.jsxs)(u.eb,{value:"".concat(e.johnsonSchoolId,"-").concat(e.schoolName),children:[e.johnsonSchoolId," - ",e.schoolName]},e.id))})]}),(0,l.jsx)(d.C5,{})]})}})]})})]}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,l.jsx)(t.$,{type:"button",variant:"outline",onClick:()=>a.push("/dashboard/schools"),children:"Cancel"}),(0,l.jsx)(t.$,{type:"submit",children:"Update School"})]})]})})}},55781:(e,s,n)=>{Promise.resolve().then(n.bind(n,36978))}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,9456,8539,1072,8636,6874,1342,2211,8441,1684,7358],()=>s(55781)),_N_E=e.O()}]);